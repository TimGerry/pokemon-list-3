<h2>Add Pokémon</h2>

<form (submit)="submit()" [formGroup]="pokemonForm">
    <div>
        <label for="inputName">Name: </label>
        <input type="text" id="inputName" formControlName="name">
        @if(pokemonForm.controls.name.dirty && pokemonForm.controls.name.hasError('required')) {
            <p class="text-danger">Name is required!</p>
        }
        @if(pokemonForm.controls.name.dirty && pokemonForm.controls.name.hasError('minlength')) {
            <p class="text-danger">Name must be 3 characters or more!</p>
        }
        @if(pokemonForm.controls.name.dirty && pokemonForm.controls.name.hasError('invalidPokemon')) {
            <p class="text-danger">{{ pokemonForm.controls.name.getError('invalidPokemon') }}</p>
        }
    </div>
    <div>
        <label for="inputType">Type: </label>
        <input type="text" id="inputType" formControlName="type">
        @if(pokemonForm.controls.type.dirty && pokemonForm.controls.type.hasError('required')) {
            <p class="text-danger">Type is required!</p>
        }
        @if(pokemonForm.controls.type.dirty && pokemonForm.controls.type.hasError('invalidType')) {
            <p class="text-danger">{{ pokemonForm.controls.type.getError('invalidType') }}</p>
        }
    </div>
    <div>
        <label for="inputType2">Type 2: </label>
        <input type="text" id="inputType2" formControlName="type2">
        @if(pokemonForm.controls.type2?.dirty && pokemonForm.controls.type2?.hasError('invalidType')) {
            <p class="text-danger">{{ pokemonForm.controls.type2?.getError('invalidType') }}</p>
        }
        @if(pokemonForm.controls.type2?.dirty && pokemonForm.hasError('duplicateType')) {
            <p class="text-danger">{{ pokemonForm.getError('duplicateType') }}</p>
        }
    </div>
    <div>
        <label for="inputAttack">Attack: </label>
        <input type="text" id="inputAttack" formControlName="attack">
        @if(pokemonForm.controls.attack.dirty && pokemonForm.controls.attack.hasError('required')) {
            <p class="text-danger">Attack is required!</p>
        }
    </div>
    <div>
        <label for="inputLevel">Level: </label>
        <input type="number" id="inputLevel" formControlName="level">
        @if(pokemonForm.controls.level.dirty && (pokemonForm.controls.level.hasError('required')
            || pokemonForm.controls.level.hasError('min') || pokemonForm.controls.level.hasError('max'))) {
            <p class="text-danger">Level between 1 and 100 required</p>
        }
    </div>
    <button type="submit" [disabled]="!pokemonForm.valid">Add Pokémon!</button>
    <button type="button" (click)="log()">Log</button>
    <button type="button" (click)="reset()">Reset</button>
</form>